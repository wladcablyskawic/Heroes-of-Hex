<!DOCTYPE html>
<head>
    <title>Hex</title>

	<link href="messages.css" rel="stylesheet">
	<link href="jquery-ui.css" rel="stylesheet">
	<script src="//cdn.temasys.com.sg/skylink/skylinkjs/0.6.x/skylink.complete.min.js"></script>
    <script src="skylink.js"></script>
    <script src="hexagon.js"></script>
	<script src="mob.js"></script>		
	<script src="astar.js"></script>	
	<script src="troops.js"></script>
	<script src="command.js"></script>
	<script src="randomgenerator.js"></script>	
	<script src="js/jquery.js"></script>
	<script src="js/jquery-ui.js"></script>
    <script src="js/jquery.tabSlideOut.v1.3.js"></script>
	<script src="messages.js"></script>
	<script src="raphael-min.js"></script>	

	<script>
	
         $(function(){
             $('.slide-out-div').tabSlideOut({
                 tabHandle: '.handle',                              //class of the element that will be your tab
                 pathToTabImage: 'images/console_tab.jpg',          //path to the image for the tab (optionaly can be set using css)
                 imageHeight: '40px',                               //height of tab image
                 imageWidth: '122px',                               //width of tab image    
                 tabLocation: 'top',                               //side of screen where tab lives, top, right, bottom, or left
                 speed: 300,                                        //speed of animation
                 action: 'click',                                   //options: 'click' or 'hover', action to trigger animation
                 topPos: '200px',                                   //position from the top
                 fixedPosition: false                               //options: true makes it stick(fixed position) on scroll
             });
         });
	</script>
</head>



    <style type="text/css" media="screen">
    .slide-out-div {
       padding: 20px;
        width: 450px;
        background: #f2f2f2;
        border: #29216d 2px solid;
		
    }
	
#actionsmenu {
       position:fixed;
       top: 0;
       margin:auto;
       left: 0;
       right: 0;
       width: 100%;
    height: 50px;
    background-color: #4861A3;
      }	
    
	header {
	  background: #eee;
	  padding: 20px;
	  margin-bottom: .4em;
	  font-family: Helvetica, Arial, sans-serif;
	}

	header a:first-child {
	  float: right;
	  margin: 0 0 20px 30px;
	}

	#container {
	  position: relative;
	  border: 1px #ddd solid;
	  height: 300px;
	  overflow-y: scroll;
	}

	#chatbox {
	  position: absolute;
	  bottom: 0px;
	}

	.action {
	  font-style: italic;
	  color: gray;
	}

	.you {
	  font-weight: bold;
	}
</style>
<body>

<div id="actionsmenu">
	<button type="button" name='nextMob'>Next mob</button>
	<button type="button" name='undo'>Undo</button>
	
		<script>
		$( document ).ready(function() {
			$('button[name=nextMob]').click(function() { 
				finishTurn();
			});	
		});
		</script>	
</div>

	<canvas id="HexCanvas" width="1700" height="800"></canvas>

    <script>
        var hexagonGrid = new HexagonGrid("HexCanvas", 40, 10,10);


		hexagonGrid.addObstacle(2,4,'Impassable','As the title says -infinite height, impassable terrain.', true, true);
		hexagonGrid.addObstacle(2,3,'Impassable','As the title says -infinite height, impassable terrain.', true, true);
		hexagonGrid.addObstacle(3,4,'Impassable','As the title says -infinite height, impassable terrain.', true, true);		
		hexagonGrid.addObstacle(4,5,'Impassable','As the title says -infinite height, impassable terrain.', true, true);
		
		hexagonGrid.addObstacle(3,1,'Lake','Lakes are non-interfering terrain features.', false, true);
		hexagonGrid.addObstacle(2,1,'Lake','Lakes are non-interfering terrain features.', false, true);
		hexagonGrid.addObstacle(2,0,'Lake','Lakes are non-interfering terrain features.', false, true);

		hexagonGrid.addObstacle(5,1,'Forest','Forests are Interfering terrain. For Line of Sight purposes Forests count as being of infinite height.', true, false);
		hexagonGrid.addObstacle(5,2,'Forest','Forests are Interfering terrain. For Line of Sight purposes Forests count as being of infinite height. ', true, false);
				
		window.onload = function(){
			hexagonGrid.drawHexGrid(50, 50, false);
		
			};
		setName();	
		if(sessionStorage.getItem('player-number')=='1') bePlayer(1);
		else if(sessionStorage.getItem('player-number')=='2') bePlayer(2);


		</script>

	<div class="slide-out-div">
        <a class="handle" href="http://link-for-non-js-users">Content</a>
		
		<input type="checkbox" name="MovementSettings" checked>movement<br>
		<input type="checkbox" name="FOVSettings">field of view<br>
		<script>
		$( document ).ready(function() {
			$( ":checkbox" ).click(function() {
				hexagonGrid.refreshHexGrid();
			});		
		});
		</script>
  
		<button onclick="DEPLOYMENT=false;
		skylink.sendP2PMessage(showArmyList())"
		class="startGame">start game</button>	

		<br/>	
		<input type="text" id="message" placeholder="My message" />
		<button onclick="sendMessage()">Send message</button>
		  <div id="container">
		<div id="chatbox">
		</div>
	  </div>
    </div>
		

		<br/><BR/><BR/>
<div id="canvas" style="display:none" >
<img src="troops/Creature_Pikeman_1.gif" id="Image_Pikeman_1" style="display:none" >
<img src="troops/Creature_Archer_1.gif" id="Image_Archer_1" style="display:none" >
<img src="troops/Creature_Swordsman_1.gif" id="Image_Swordsman_1" style="display:none" >
<img src="troops/Creature_Peasant_1.gif" id="Image_Peasant_1" style="display:none" >
<img src="troops/Creature_Halfling_1.gif" id="Image_Halfling_1" style="display:none" >
<img src="troops/Creature_Goblin_1.gif" id="Image_Goblin_1" style="display:none" >
<img src="troops/Creature_Orc_1.gif" id="Image_Orc_1" style="display:none" >
<img src="troops/Creature_Troll_1.gif" id="Image_Troll_1" style="display:none" >
<img src="troops/Creature_Pikeman_2.gif" id="Image_Pikeman_2" style="display:none" >
<img src="troops/Creature_Archer_2.gif" id="Image_Archer_2" style="display:none" >
<img src="troops/Creature_Swordsman_2.gif" id="Image_Swordsman_2" style="display:none" >
<img src="troops/Creature_Peasant_2.gif" id="Image_Peasant_2" style="display:none" >
<img src="troops/Creature_Halfling_2.gif" id="Image_Halfling_2" style="display:none" >
<img src="troops/Creature_Goblin_2.gif" id="Image_Goblin_2" style="display:none" >
<img src="troops/Creature_Orc_2.gif" id="Image_Orc_2" style="display:none" >
<img src="troops/Creature_Troll_2.gif" id="Image_Troll_2" style="display:none" >
</div>
<div id="chargeRespondDialog" title="Decision time!" style="display: none;">
  <p>This is the default dialog which is useful for displaying information. The dialog window can be moved, resized and closed with the 'x' icon.</p>
</div>

<div class="info message" id="notify_deployment">
         <span class="icon"></span><h3>Prepare for the hex battle!</h3>
         <p>It's time to deploy your troops, by drag'n'droping them in your deployment zone.
		 <br/>When you will be ready go to the Console and press 'Start game'.</p>
</div>

<div class="info message" id="notify_wait">
         <span class="icon"></span><h3>Prepare for the hex battle!</h3>
         <p>Wait for your opponent.</p>
</div>

	<script src="duelo.js"></script>	

</body>
